{"version":3,"file":"VAvatarGroup.js","names":["VAvatar","VDefaultsProvider","makeComponentProps","makeTagProps","computed","convertToUnit","genericComponent","getPropertyFromItem","isObject","propsFactory","useRender","makeVAvatarGroupProps","border","Boolean","Number","String","gap","hoverable","items","type","Array","default","itemProps","Function","limit","overflowText","reverse","size","vertical","VAvatarGroup","name","props","setup","_ref","slots","visibleItems","slice","orderedItems","toReversed","map","item","avatarProps","image","overflow","Math","max","length","value","overflowItem","_createVNode","tag","_normalizeClass","class","_normalizeStyle","style","prepend","_createElementVNode","_Fragment","index","_mergeProps","append"],"sources":["../../../src/labs/VAvatarGroup/VAvatarGroup.tsx"],"sourcesContent":["// Styles\nimport './VAvatarGroup.scss'\n\n// Components\nimport { VAvatar } from '@/components/VAvatar'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { makeTagProps } from '@/composables/tag'\n\n// Utilities\nimport { computed } from 'vue'\nimport { convertToUnit, genericComponent, getPropertyFromItem, isObject, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { SelectItemKey } from '@/util'\n\nexport type AvatarGroupItem = string | Record<string, any>\n\nexport type VAvatarGroupSlots = {\n  default: never\n  prepend: never\n  append: never\n  item: { props: any, index: number }\n  overflow: { overflow: number }\n}\n\nexport const makeVAvatarGroupProps = propsFactory({\n  border: [Boolean, Number, String],\n  gap: [Number, String],\n  hoverable: Boolean,\n  items: {\n    type: Array as PropType<AvatarGroupItem[]>,\n    default: () => ([]),\n  },\n  itemProps: {\n    type: [Boolean, String, Array, Function] as PropType<SelectItemKey>,\n    default: null,\n  },\n  limit: Number,\n  overflowText: String,\n  reverse: Boolean,\n  size: [Number, String],\n  vertical: Boolean,\n\n  ...makeComponentProps(),\n  ...makeTagProps(),\n}, 'VAvatarGroup')\n\nexport const VAvatarGroup = genericComponent<VAvatarGroupSlots>()({\n  name: 'VAvatarGroup',\n\n  props: makeVAvatarGroupProps(),\n\n  setup (props, { slots }) {\n    const items = computed(() => {\n      const visibleItems = props.limit\n        ? props.items.slice(0, props.limit)\n        : props.items\n\n      const orderedItems = props.reverse\n        ? visibleItems.toReversed()\n        : visibleItems\n\n      return orderedItems.map(item => {\n        const avatarProps = props.itemProps === true\n          ? (isObject(item) ? item : { image: item })\n          : getPropertyFromItem(item, props.itemProps, item)\n\n        if (avatarProps != null) return avatarProps\n\n        if (!isObject(item)) return { image: item }\n\n        return item\n      })\n    })\n\n    const overflow = computed(() => props.limit ? Math.max(props.items.length - props.limit, 0) : 0)\n    const overflowText = computed(() => props.overflowText ?? (overflow.value ? `+${overflow.value}` : ''))\n\n    const overflowItem = () => (\n      slots.overflow?.({ overflow: overflow.value }) ?? (\n        <VAvatar class=\"v-avatar-group__overflow\" text={ overflowText.value } />\n      )\n    )\n\n    useRender(() => (\n      <props.tag\n        class={[\n          'v-avatar-group',\n          `v-avatar-group--${props.vertical ? 'vertical' : 'horizontal'}`,\n          {\n            'v-avatar-group--hoverable': props.hoverable,\n            'v-avatar-group--reverse': props.reverse,\n          },\n          props.class,\n        ]}\n        style={[\n          { '--v-avatar-group-gap': convertToUnit(props.gap) },\n          props.style,\n        ]}\n      >\n        { slots.prepend?.() }\n\n        <div class=\"v-avatar-group__content\">\n          <VDefaultsProvider\n            defaults={{\n              VAvatar: {\n                size: props.size,\n                border: props.border,\n              },\n            }}\n          >\n            { slots.default?.() ?? (\n              <>\n                { props.reverse && overflowText.value && overflowItem() }\n                { items.value.map((item, index) => (\n                  slots.item?.({ props: item, index }) ?? (\n                    <VAvatar\n                      key={ index }\n                      { ...item }\n                    />\n                  )\n                ))}\n                { !props.reverse && overflowText.value && overflowItem() }\n              </>\n            )}\n          </VDefaultsProvider>\n        </div>\n\n        { slots.append?.() }\n      </props.tag>\n    ))\n\n    return {}\n  },\n})\n\nexport type VAvatarGroup = InstanceType<typeof VAvatarGroup>\n"],"mappings":"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","ignoreList":[]}