{"version":3,"file":"VCommandPalette.js","names":["VCommandPaletteSymbol","VCommandPaletteItemComponent","VDialog","makeVDialogProps","VList","VSheet","VTextField","useCommandPaletteNavigation","makeDensityProps","makeFilterProps","useFilter","useHotkey","useLocale","useProxiedModel","computed","nextTick","onUnmounted","provide","ref","shallowRef","toRef","watch","watchEffect","isActionItem","genericComponent","omit","propsFactory","useRender","makeVCommandPaletteProps","modelValue","Boolean","search","String","items","type","Array","default","placeholder","inputIcon","hotkey","noDataText","listProps","Object","filterKeys","maxWidth","VCommandPalette","name","props","emits","value","click:item","item","event","setup","_ref","emit","slots","t","isOpen","searchQuery","searchInputRef","dialogRef","previouslyFocusedElement","internalItems","map","index","raw","title","subtitle","filteredItems","filterResult","itemsForList","idx","navigation","onItemClick","onClick","selectedIndex","setSelectedIndex","hotkeyUnsubscribe","onCleanup","hotkeyUnsubscribes","registerItemHotkeys","forEach","unsubscribe","preventDefault","inputs","push","findNextSelectableIndex","startIndex","direction","length","maxIterations","i","handleSearchKeydown","e","key","nextIndex","prevIndex","executeSelected","newValue","oldValue","document","activeElement","reset","requestAnimationFrame","focus","preventScroll","immediate","dialogProps","filterProps","_createVNode","_mergeProps","$event","activator","_normalizeClass","class","_normalizeStyle","style","prepend","_createElementVNode","input","density","subheader","_ref2","itemProps","execute","undefined","append"],"sources":["../../../src/labs/VCommandPalette/VCommandPalette.tsx"],"sourcesContent":["// Styles\nimport './VCommandPalette.scss'\n\n// Components\nimport { VCommandPaletteSymbol } from './shared'\nimport { VCommandPaletteItemComponent } from './VCommandPaletteItem'\nimport { VDialog } from '@/components/VDialog'\nimport { makeVDialogProps } from '@/components/VDialog/VDialog'\nimport { VList } from '@/components/VList'\nimport { VSheet } from '@/components/VSheet'\nimport { VTextField } from '@/components/VTextField'\n\n// Composables\nimport { useCommandPaletteNavigation } from './composables/useCommandPaletteNavigation'\nimport { makeDensityProps } from '@/composables/density'\nimport { makeFilterProps, useFilter } from '@/composables/filter'\nimport { useHotkey } from '@/composables/hotkey'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, nextTick, onUnmounted, provide, ref, shallowRef, toRef, watch, watchEffect } from 'vue'\nimport { isActionItem } from './types'\nimport { genericComponent, omit, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType, Ref } from 'vue'\nimport type { VCommandPaletteItem as VCommandPaletteItemType } from './types'\nimport type { VListChildrenSlots } from '@/components/VList/VListChildren'\nimport type { OverlaySlots } from '@/components/VOverlay/VOverlay'\n\nexport const makeVCommandPaletteProps = propsFactory({\n  modelValue: Boolean,\n  search: String,\n  items: {\n    type: Array as PropType<VCommandPaletteItemType[]>,\n    default: () => [],\n  },\n  placeholder: {\n    type: String,\n    default: '$vuetify.command.search',\n  },\n  inputIcon: {\n    type: String,\n    default: '$search',\n  },\n  hotkey: String,\n  noDataText: {\n    type: String,\n    default: '$vuetify.noDataText',\n  },\n  listProps: Object as PropType<VList['$props']>,\n\n  ...makeFilterProps({ filterKeys: ['title', 'subtitle'] }),\n  ...makeDensityProps(),\n  ...omit(makeVDialogProps({ maxWidth: 500 }), ['modelValue']),\n}, 'VCommandPalette')\n\nexport type VCommandPaletteSlots = {\n  activator: OverlaySlots['activator']\n  default: never\n  prepend: never\n  append: never\n  input: never\n  'input.append-inner': never\n  'no-data': never\n  'list.prepend': never\n  'list.subheader': VListChildrenSlots<any>['subheader']\n  item: { item: VCommandPaletteItemType, index: number }\n  'item.prepend': { item: VCommandPaletteItemType, index: number }\n  'item.title': { item: VCommandPaletteItemType, index: number }\n  'item.append': { item: VCommandPaletteItemType, index: number }\n}\n\nexport const VCommandPalette = genericComponent<VCommandPaletteSlots>()({\n  name: 'VCommandPalette',\n\n  props: makeVCommandPaletteProps(),\n\n  emits: {\n    'update:modelValue': (value: boolean) => true,\n    'update:search': (value: string) => true,\n    'click:item': (item: VCommandPaletteItemType, event: MouseEvent | KeyboardEvent) => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const { t } = useLocale()\n    const isOpen = useProxiedModel(props, 'modelValue')\n    const searchQuery = useProxiedModel(props, 'search') as Ref<string>\n    const searchInputRef = ref<VTextField>()\n    const dialogRef = ref<VDialog>()\n    const previouslyFocusedElement = shallowRef<HTMLElement | null>(null)\n\n    const internalItems = computed(() =>\n      props.items.map((item, index) => ({\n        value: index,\n        type: item.type,\n        raw: item,\n        ...('title' in item && { title: item.title }),\n        ...('subtitle' in item && { subtitle: item.subtitle }),\n      }))\n    )\n\n    const { filteredItems: filterResult } = useFilter(props, internalItems, searchQuery)\n\n    const filteredItems = computed(() => filterResult.value.map(item => item.raw))\n\n    const itemsForList = computed(() => {\n      return filteredItems.value.map((item, idx) => ({\n        ...item,\n        value: idx,\n      }))\n    })\n\n    const navigation = useCommandPaletteNavigation({\n      filteredItems,\n      onItemClick: (item, event) => {\n        if ('onClick' in item && item.onClick) {\n          item.onClick(event, item.value)\n        }\n        emit('click:item', item, event)\n        isOpen.value = false\n      },\n    })\n\n    provide(VCommandPaletteSymbol, {\n      items: computed(() => props.items),\n      filteredItems,\n      selectedIndex: navigation.selectedIndex,\n      search: searchQuery,\n      setSelectedIndex: navigation.setSelectedIndex,\n    })\n\n    // Register main hotkey with cleanup - using toRef for reactivity\n    const hotkeyUnsubscribe = useHotkey(toRef(props, 'hotkey'), () => {\n      isOpen.value = !isOpen.value\n    })\n\n    watchEffect(onCleanup => {\n      if (!isOpen.value) {\n        return\n      }\n\n      const hotkeyUnsubscribes: Array<() => void> = []\n\n      function registerItemHotkeys (items: VCommandPaletteItemType[]) {\n        items.forEach(item => {\n          if (isActionItem(item) && item.hotkey) {\n            const unsubscribe = useHotkey(item.hotkey, event => {\n              event.preventDefault()\n              if (item.onClick) {\n                item.onClick(event as KeyboardEvent, item.value)\n              }\n              emit('click:item', item, event as KeyboardEvent)\n              isOpen.value = false\n            }, { inputs: true })\n            hotkeyUnsubscribes.push(unsubscribe)\n          }\n        })\n      }\n\n      registerItemHotkeys(props.items)\n\n      onCleanup(() => {\n        hotkeyUnsubscribes.forEach(unsubscribe => unsubscribe?.())\n      })\n    })\n\n    function findNextSelectableIndex (startIndex: number, direction: 1 | -1): number {\n      const items = filteredItems.value\n      if (items.length === 0) return -1\n\n      let index = startIndex\n      const maxIterations = items.length\n\n      for (let i = 0; i < maxIterations; i++) {\n        index += direction\n        if (index >= items.length) index = 0\n        if (index < 0) index = items.length - 1\n\n        if (isActionItem(items[index])) {\n          return index\n        }\n      }\n\n      return -1\n    }\n\n    function handleSearchKeydown (e: KeyboardEvent) {\n      switch (e.key) {\n        case 'ArrowDown': {\n          e.preventDefault()\n          const nextIndex = findNextSelectableIndex(navigation.selectedIndex.value, 1)\n          if (nextIndex !== -1) {\n            navigation.setSelectedIndex(nextIndex)\n          }\n          break\n        }\n        case 'ArrowUp': {\n          e.preventDefault()\n          const prevIndex = findNextSelectableIndex(navigation.selectedIndex.value, -1)\n          if (prevIndex !== -1) {\n            navigation.setSelectedIndex(prevIndex)\n          }\n          break\n        }\n        case 'Enter':\n          e.preventDefault()\n          navigation.executeSelected(e)\n          break\n        case 'Escape':\n          e.preventDefault()\n          isOpen.value = false\n          break\n      }\n    }\n\n    watch(isOpen, (newValue, oldValue) => {\n      if (newValue && !oldValue) {\n        previouslyFocusedElement.value = document.activeElement as HTMLElement | null\n        searchQuery.value = ''\n        navigation.reset()\n\n        // Use requestAnimationFrame to ensure DOM is fully rendered\n        nextTick(() => {\n          requestAnimationFrame(() => {\n            if (searchInputRef.value && typeof searchInputRef.value.focus === 'function') {\n              searchInputRef.value.focus()\n            }\n          })\n        })\n      } else if (!newValue && oldValue) {\n        nextTick(() => {\n          previouslyFocusedElement.value?.focus({ preventScroll: true })\n          previouslyFocusedElement.value = null\n        })\n      }\n    }, { immediate: true })\n\n    onUnmounted(() => {\n      hotkeyUnsubscribe()\n      previouslyFocusedElement.value = null\n    })\n\n    useRender(() => {\n      const dialogProps = VDialog.filterProps(omit(props, ['modelValue', 'class', 'style']))\n\n      return (\n        <VDialog\n          ref={ dialogRef }\n          class=\"v-command-palette\"\n          v-model={ isOpen.value }\n          scrollable\n          { ...dialogProps }\n        >\n          {{\n            activator: slots.activator,\n            default: () => (\n              <VSheet\n                class={ props.class }\n                style={ props.style }\n              >\n                { slots.prepend?.() }\n\n              <div class=\"v-command-palette__input-container\">\n                { slots.input?.() ?? (\n                  <VTextField\n                    ref={ searchInputRef }\n                    v-model={ searchQuery.value }\n                    density={ props.density }\n                    placeholder={ t(props.placeholder) }\n                    prependInnerIcon={ props.inputIcon }\n                    autocomplete=\"off\"\n                    autofocus\n                    singleLine\n                    hideDetails\n                    variant=\"solo\"\n                    flat\n                    bgColor=\"transparent\"\n                    onKeydown={ handleSearchKeydown }\n                    v-slots={{\n                      'append-inner': slots['input.append-inner'],\n                    }}\n                  />\n                )}\n              </div>\n\n                <div class=\"v-command-palette__content\">\n                  { filteredItems.value.length > 0 ? (\n                    <VList\n                      key=\"list\"\n                      class=\"v-command-palette__list\"\n                      density={ props.density }\n                      items={ itemsForList.value }\n                      itemType=\"type\"\n                      itemProps\n                      activatable\n                      { ...props.listProps }\n                      navigationStrategy=\"track\"\n                      navigationIndex={ navigation.selectedIndex.value }\n                      onUpdate:navigationIndex={ navigation.setSelectedIndex }\n                      v-slots={{\n                        prepend: slots['list.prepend'],\n                        subheader: slots['list.subheader'],\n                        item: ({ props: itemProps }: { props: any }) => (\n                          slots.item?.({ item: itemProps, index: itemProps.index }) ?? (\n                            <VCommandPaletteItemComponent\n                              key={ `item-${itemProps.index}` }\n                              item={ itemProps }\n                              index={ itemProps.index }\n                              onExecute={ (event: MouseEvent | KeyboardEvent) => navigation.execute(itemProps.index, event) }\n                              v-slots={{\n                                prepend: slots['item.prepend']\n                                  ? () => slots['item.prepend']?.({ item: itemProps, index: itemProps.index })\n                                  : undefined,\n                                title: slots['item.title']\n                                  ? () => slots['item.title']?.({ item: itemProps, index: itemProps.index })\n                                  : undefined,\n                                append: slots['item.append']\n                                  ? () => slots['item.append']?.({ item: itemProps, index: itemProps.index })\n                                  : undefined,\n                              }}\n                            />\n                          )\n                        ),\n                      }}\n                    />\n                  ) : (\n                    <div key=\"no-data\" class=\"v-command-palette__no-data\">\n                      { slots['no-data']?.() || t(props.noDataText) }\n                    </div>\n                  )}\n                </div>\n\n                { slots.append?.() }\n              </VSheet>\n            ),\n          }}\n        </VDialog>\n      )\n    })\n  },\n})\n\nexport type VCommandPalette = InstanceType<typeof VCommandPalette>\n"],"mappings":"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","ignoreList":[]}