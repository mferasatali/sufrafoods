{"version":3,"file":"VListChildren.js","names":["VListGroup","VListItem","VListSubheader","VDivider","mergeProps","createList","genericComponent","propsFactory","makeVListChildrenProps","items","Array","returnObject","Boolean","VListChildren","name","props","setup","_ref","slots","default","map","_ref2","index","children","itemProps","type","raw","item","divider","_createVNode","subheader","slotsWithItem","subtitle","slotProps","undefined","prepend","append","title","listGroupProps","filterProps","_mergeProps","value","activator","_ref3","activatorProps","listItemProps","header"],"sources":["../../../src/components/VList/VListChildren.tsx"],"sourcesContent":["// Components\nimport { VListGroup } from './VListGroup'\nimport { VListItem } from './VListItem'\nimport { VListSubheader } from './VListSubheader'\nimport { VDivider } from '@/components/VDivider'\n\n// Utilities\nimport { mergeProps } from 'vue'\nimport { createList } from './list'\nimport { genericComponent, propsFactory } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { InternalListItem } from './VList'\nimport type { VListItemSlots } from './VListItem'\nimport type { GenericProps } from '@/util'\n\nexport type VListChildrenSlots<T> = {\n  [K in keyof Omit<VListItemSlots, 'default'>]: VListItemSlots[K] & { item: T }\n} & {\n  default: never\n  item: { props: InternalListItem['props'] & { index: number } }\n  divider: { props: InternalListItem['props'] }\n  subheader: { props: InternalListItem['props'] }\n  header: { props: InternalListItem['props'] }\n}\n\nexport const makeVListChildrenProps = propsFactory({\n  items: Array as PropType<readonly InternalListItem[]>,\n  returnObject: Boolean,\n}, 'VListChildren')\n\nexport const VListChildren = genericComponent<new <T extends InternalListItem>(\n  props: {\n    items?: readonly T[]\n    returnObject?: boolean\n  },\n  slots: VListChildrenSlots<T>\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VListChildren',\n\n  props: makeVListChildrenProps(),\n\n  setup (props, { slots }) {\n    createList()\n\n    return () => slots.default?.() ?? props.items?.map(({ children, props: itemProps, type, raw: item }, index) => {\n      if (type === 'divider') {\n        return slots.divider?.({ props: itemProps }) ?? (\n          <VDivider { ...itemProps } />\n        )\n      }\n\n      if (type === 'subheader') {\n        return slots.subheader?.({ props: itemProps }) ?? (\n          <VListSubheader { ...itemProps } />\n        )\n      }\n\n      const slotsWithItem = {\n        subtitle: slots.subtitle ? (slotProps: any) => slots.subtitle?.({ ...slotProps, item }) : undefined,\n        prepend: slots.prepend ? (slotProps: any) => slots.prepend?.({ ...slotProps, item }) : undefined,\n        append: slots.append ? (slotProps: any) => slots.append?.({ ...slotProps, item }) : undefined,\n        title: slots.title ? (slotProps: any) => slots.title?.({ ...slotProps, item }) : undefined,\n      }\n\n      const listGroupProps = VListGroup.filterProps(itemProps)\n\n      return children ? (\n        <VListGroup\n          { ...listGroupProps }\n          value={ props.returnObject ? item : itemProps?.value }\n          rawId={ itemProps?.value }\n        >\n          {{\n            activator: ({ props: activatorProps }) => {\n              const listItemProps = mergeProps(\n                itemProps,\n                activatorProps,\n                { value: props.returnObject ? item : itemProps.value }\n              ) as typeof itemProps\n\n              return slots.header\n                ? slots.header({ props: listItemProps })\n                : (\n                  <VListItem { ...listItemProps } index={ index } v-slots={ slotsWithItem } />\n                )\n            },\n            default: () => (\n              <VListChildren\n                items={ children }\n                returnObject={ props.returnObject }\n                v-slots={ slots }\n              />\n            ),\n          }}\n        </VListGroup>\n      ) : (\n        slots.item ? slots.item({ props: { ...itemProps, index } }) : (\n          <VListItem\n            { ...itemProps }\n            index={ index }\n            value={ props.returnObject ? item : itemProps.value }\n            v-slots={ slotsWithItem }\n          />\n        )\n      )\n    })\n  },\n})\n"],"mappings":"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","ignoreList":[]}