{"version":3,"file":"list.js","names":["computed","inject","provide","shallowRef","useId","DepthKey","Symbol","for","useDepth","hasPrepend","parent","depth","value","ListKey","createList","options","arguments","length","undefined","filterable","updateHasPrepend","trackingIndex","navigationStrategy","uid","data","useList"],"sources":["../../../src/components/VList/list.ts"],"sourcesContent":["// Utilities\nimport { computed, inject, provide, shallowRef, useId } from 'vue'\n\n// Types\nimport type { InjectionKey, MaybeRefOrGetter, Ref } from 'vue'\n\n// Depth\nexport const DepthKey: InjectionKey<Ref<number>> = Symbol.for('vuetify:depth')\n\nexport function useDepth (hasPrepend?: Ref<boolean>) {\n  const parent = inject(DepthKey, shallowRef(-1))\n\n  const depth = computed(() => parent.value + 1 + (hasPrepend?.value ? 1 : 0))\n\n  provide(DepthKey, depth)\n\n  return depth\n}\n\n// List\nexport const ListKey: InjectionKey<{\n  filterable: MaybeRefOrGetter<boolean>\n  hasPrepend: Ref<boolean>\n  updateHasPrepend: (value: boolean) => void\n  trackingIndex: Ref<number>\n  navigationStrategy: Ref<'focus' | 'track'>\n  uid: string\n}> = Symbol.for('vuetify:list')\n\ntype InjectedListOptions = {\n  filterable: MaybeRefOrGetter<boolean>\n  trackingIndex?: Ref<number>\n  navigationStrategy?: Ref<'focus' | 'track'>\n  uid?: string\n}\n\nexport function createList (options: InjectedListOptions = { filterable: false }) {\n  const parent = inject(ListKey, {\n    filterable: false,\n    hasPrepend: shallowRef(false),\n    updateHasPrepend: () => null,\n    trackingIndex: shallowRef(-1),\n    navigationStrategy: shallowRef('focus' as 'focus' | 'track'),\n    uid: '',\n  })\n\n  const {\n    filterable,\n    trackingIndex = parent.trackingIndex,\n    navigationStrategy = parent.navigationStrategy,\n    uid = parent.uid || useId(),\n  } = options\n\n  const data = {\n    filterable: parent.filterable || filterable,\n    hasPrepend: shallowRef(false),\n    updateHasPrepend: (value: boolean) => {\n      if (value) data.hasPrepend.value = value\n    },\n    trackingIndex,\n    navigationStrategy,\n    uid,\n  }\n\n  provide(ListKey, data)\n\n  return parent\n}\n\nexport function useList () {\n  return inject(ListKey, null)\n}\n"],"mappings":"AAAA;AACA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,OAAO,EAAEC,UAAU,EAAEC,KAAK,QAAQ,KAAK;;AAElE;;AAGA;AACA,OAAO,MAAMC,QAAmC,GAAGC,MAAM,CAACC,GAAG,CAAC,eAAe,CAAC;AAE9E,OAAO,SAASC,QAAQA,CAAEC,UAAyB,EAAE;EACnD,MAAMC,MAAM,GAAGT,MAAM,CAACI,QAAQ,EAAEF,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;EAE/C,MAAMQ,KAAK,GAAGX,QAAQ,CAAC,MAAMU,MAAM,CAACE,KAAK,GAAG,CAAC,IAAIH,UAAU,EAAEG,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;EAE5EV,OAAO,CAACG,QAAQ,EAAEM,KAAK,CAAC;EAExB,OAAOA,KAAK;AACd;;AAEA;AACA,OAAO,MAAME,OAOX,GAAGP,MAAM,CAACC,GAAG,CAAC,cAAc,CAAC;AAS/B,OAAO,SAASO,UAAUA,CAAA,EAAwD;EAAA,IAAtDC,OAA4B,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;IAAEG,UAAU,EAAE;EAAM,CAAC;EAC9E,MAAMT,MAAM,GAAGT,MAAM,CAACY,OAAO,EAAE;IAC7BM,UAAU,EAAE,KAAK;IACjBV,UAAU,EAAEN,UAAU,CAAC,KAAK,CAAC;IAC7BiB,gBAAgB,EAAEA,CAAA,KAAM,IAAI;IAC5BC,aAAa,EAAElB,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7BmB,kBAAkB,EAAEnB,UAAU,CAAC,OAA4B,CAAC;IAC5DoB,GAAG,EAAE;EACP,CAAC,CAAC;EAEF,MAAM;IACJJ,UAAU;IACVE,aAAa,GAAGX,MAAM,CAACW,aAAa;IACpCC,kBAAkB,GAAGZ,MAAM,CAACY,kBAAkB;IAC9CC,GAAG,GAAGb,MAAM,CAACa,GAAG,IAAInB,KAAK,CAAC;EAC5B,CAAC,GAAGW,OAAO;EAEX,MAAMS,IAAI,GAAG;IACXL,UAAU,EAAET,MAAM,CAACS,UAAU,IAAIA,UAAU;IAC3CV,UAAU,EAAEN,UAAU,CAAC,KAAK,CAAC;IAC7BiB,gBAAgB,EAAGR,KAAc,IAAK;MACpC,IAAIA,KAAK,EAAEY,IAAI,CAACf,UAAU,CAACG,KAAK,GAAGA,KAAK;IAC1C,CAAC;IACDS,aAAa;IACbC,kBAAkB;IAClBC;EACF,CAAC;EAEDrB,OAAO,CAACW,OAAO,EAAEW,IAAI,CAAC;EAEtB,OAAOd,MAAM;AACf;AAEA,OAAO,SAASe,OAAOA,CAAA,EAAI;EACzB,OAAOxB,MAAM,CAACY,OAAO,EAAE,IAAI,CAAC;AAC9B","ignoreList":[]}