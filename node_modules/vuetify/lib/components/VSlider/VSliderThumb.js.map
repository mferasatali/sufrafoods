{"version":3,"file":"VSliderThumb.js","names":["VSliderSymbol","VScaleTransition","useBackgroundColor","useTextColor","makeComponentProps","useElevation","useRtl","vRipple","computed","inject","shallowRef","watch","convertToUnit","genericComponent","keyValues","propsFactory","useRender","makeVSliderThumbProps","focused","Boolean","max","type","Number","required","min","modelValue","position","ripple","Object","default","name","String","noKeyboard","VSliderThumb","directives","props","emits","v","setup","_ref","slots","emit","slider","isRtl","rtlClasses","Error","thumbColor","thumbLabelColor","step","disabled","thumbSize","thumbLabel","direction","isReversed","vertical","readonly","elevation","mousePressed","decimals","indexFromEnd","isHovered","isHidden","elevationProps","value","undefined","elevationClasses","textColorClasses","textColorStyles","backgroundColorClasses","backgroundColorStyles","pageup","pagedown","end","home","left","right","down","up","relevantKeys","multipliers","parseKeydown","e","includes","key","preventDefault","_step","steps","increase","multiplier","shiftKey","ctrlKey","isInteger","Math","onKeydown","newValue","val","positionPercentage","thumbLabelVisible","_createElementVNode","_normalizeClass","class","_normalizeStyle","style","onMouseenter","onMouseleave","_withDirectives","circle","center","_createVNode","toFixed","_vShow"],"sources":["../../../src/components/VSlider/VSliderThumb.tsx"],"sourcesContent":["// Styles\nimport './VSliderThumb.sass'\n\n// Components\nimport { VSliderSymbol } from './slider'\nimport { VScaleTransition } from '../transitions'\n\n// Composables\nimport { useBackgroundColor, useTextColor } from '@/composables/color'\nimport { makeComponentProps } from '@/composables/component'\nimport { useElevation } from '@/composables/elevation'\nimport { useRtl } from '@/composables/locale'\n\n// Directives\nimport vRipple from '@/directives/ripple'\n\n// Utilities\nimport { computed, inject, shallowRef, watch } from 'vue'\nimport { convertToUnit, genericComponent, keyValues, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { RippleDirectiveBinding } from '@/directives/ripple'\n\nexport type VSliderThumbSlots = {\n  'thumb-label': { modelValue: number }\n}\n\nexport const makeVSliderThumbProps = propsFactory({\n  focused: Boolean,\n  max: {\n    type: Number,\n    required: true,\n  },\n  min: {\n    type: Number,\n    required: true,\n  },\n  modelValue: {\n    type: Number,\n    required: true,\n  },\n  position: {\n    type: Number,\n    required: true,\n  },\n  ripple: {\n    type: [Boolean, Object] as PropType<RippleDirectiveBinding['value']>,\n    default: true,\n  },\n  name: String,\n  noKeyboard: Boolean,\n\n  ...makeComponentProps(),\n}, 'VSliderThumb')\n\nexport const VSliderThumb = genericComponent<VSliderThumbSlots>()({\n  name: 'VSliderThumb',\n\n  directives: { vRipple },\n\n  props: makeVSliderThumbProps(),\n\n  emits: {\n    'update:modelValue': (v: number) => true,\n  },\n\n  setup (props, { slots, emit }) {\n    const slider = inject(VSliderSymbol)\n    const { isRtl, rtlClasses } = useRtl()\n    if (!slider) throw new Error('[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider')\n\n    const {\n      min,\n      max,\n      thumbColor,\n      thumbLabelColor,\n      step,\n      disabled,\n      thumbSize,\n      thumbLabel,\n      direction,\n      isReversed,\n      vertical,\n      readonly,\n      elevation,\n      mousePressed,\n      decimals,\n      indexFromEnd,\n    } = slider\n\n    const isHovered = shallowRef(false)\n    const isHidden = shallowRef(false)\n\n    const elevationProps = computed(() => !disabled.value ? elevation.value : undefined)\n    const { elevationClasses } = useElevation(elevationProps)\n    const { textColorClasses, textColorStyles } = useTextColor(thumbColor)\n    const { backgroundColorClasses, backgroundColorStyles } = useBackgroundColor(thumbLabelColor)\n\n    const { pageup, pagedown, end, home, left, right, down, up } = keyValues\n    const relevantKeys = [pageup, pagedown, end, home, left, right, down, up]\n\n    const multipliers = computed(() => {\n      if (step.value) return [1, 2, 3]\n      else return [1, 5, 10]\n    })\n\n    function parseKeydown (e: KeyboardEvent, value: number) {\n      if (props.noKeyboard || disabled.value) return\n      if (!relevantKeys.includes(e.key)) return\n\n      e.preventDefault()\n\n      const _step = step.value || 0.1\n      const steps = (max.value - min.value) / _step\n      if ([left, right, down, up].includes(e.key)) {\n        const increase = vertical.value\n          ? [isRtl.value ? left : right, isReversed.value ? down : up]\n          : indexFromEnd.value !== isRtl.value ? [left, up] : [right, up]\n        const direction = increase.includes(e.key) ? 1 : -1\n        const multiplier = e.shiftKey ? 2 : (e.ctrlKey ? 1 : 0)\n\n        if (direction === -1 && value === max.value && !multiplier && !Number.isInteger(steps)) {\n          value = value - (steps % 1) * _step\n        } else {\n          value = value + (direction * _step * multipliers.value[multiplier])\n        }\n      } else if (e.key === home) {\n        value = min.value\n      } else if (e.key === end) {\n        value = max.value\n      } else {\n        const direction = e.key === pagedown ? 1 : -1\n        value = value - (direction * _step * (steps > 100 ? steps / 10 : 10))\n      }\n\n      return Math.max(props.min, Math.min(props.max, value))\n    }\n\n    function onKeydown (e: KeyboardEvent) {\n      const newValue = parseKeydown(e, props.modelValue)\n\n      if (newValue != null) {\n        isHidden.value = false\n\n        emit('update:modelValue', newValue)\n      }\n    }\n\n    watch(() => props.focused, val => {\n      if (val) {\n        isHidden.value = false\n      }\n    })\n\n    useRender(() => {\n      const positionPercentage = convertToUnit(indexFromEnd.value ? 100 - props.position : props.position, '%')\n\n      const thumbLabelVisible = thumbLabel.value === 'always' ||\n        (thumbLabel.value === true && props.focused) ||\n        (thumbLabel.value === 'hover' && (isHovered.value || (props.focused && !isHidden.value)))\n\n      return (\n        <div\n          class={[\n            'v-slider-thumb',\n            {\n              'v-slider-thumb--focused': props.focused,\n              'v-slider-thumb--pressed': props.focused && mousePressed.value,\n            },\n            props.class,\n            rtlClasses.value,\n          ]}\n          style={[\n            {\n              '--v-slider-thumb-position': positionPercentage,\n              '--v-slider-thumb-size': convertToUnit(thumbSize.value),\n            },\n            props.style,\n          ]}\n          role=\"slider\"\n          tabindex={ disabled.value ? -1 : 0 }\n          aria-label={ props.name }\n          aria-valuemin={ min.value }\n          aria-valuemax={ max.value }\n          aria-valuenow={ props.modelValue }\n          aria-readonly={ !!readonly.value }\n          aria-orientation={ direction.value }\n          onKeydown={ !readonly.value ? onKeydown : undefined }\n          onMouseenter={ () => { isHovered.value = true } }\n          onMouseleave={ () => { isHovered.value = false; isHidden.value = true } }\n        >\n          <div\n            class={[\n              'v-slider-thumb__surface',\n              textColorClasses.value,\n              elevationClasses.value,\n            ]}\n            style={ textColorStyles.value }\n          />\n          <div\n            class={[\n              'v-slider-thumb__ripple',\n              textColorClasses.value,\n            ]}\n            style={ textColorStyles.value }\n            v-ripple={[props.ripple, null, ['circle', 'center']]}\n          />\n          <VScaleTransition origin=\"bottom center\">\n            <div\n              class=\"v-slider-thumb__label-container\"\n              v-show={ thumbLabelVisible }\n            >\n              <div\n                class={[\n                  'v-slider-thumb__label',\n                  backgroundColorClasses.value,\n                ]}\n                style={ backgroundColorStyles.value }\n              >\n                <div>\n                  { slots['thumb-label']?.({ modelValue: props.modelValue }) ?? props.modelValue.toFixed(step.value ? decimals.value : 1) }\n                </div>\n                <div class=\"v-slider-thumb__label-wedge\" />\n              </div>\n            </div>\n          </VScaleTransition>\n        </div>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VSliderThumb = InstanceType<typeof VSliderThumb>\n"],"mappings":"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","ignoreList":[]}