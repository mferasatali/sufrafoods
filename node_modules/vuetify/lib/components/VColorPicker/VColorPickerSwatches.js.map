{"version":3,"file":"VColorPickerSwatches.js","names":["VIcon","makeComponentProps","toRef","convertToUnit","deepEqual","defineComponent","getContrast","parseColor","propsFactory","RGBtoCSS","RGBtoHSV","useRender","colors","makeVColorPickerSwatchesProps","swatches","type","Array","default","parseDefaultColors","disabled","Boolean","readonly","color","Object","maxHeight","Number","String","keys","map","key","base","darken4","darken3","darken2","darken1","lighten1","lighten2","lighten3","lighten4","lighten5","black","white","transparent","VColorPickerSwatches","name","props","emits","setup","_ref","emit","isInteractive","onSwatchClick","hsva","value","_createElementVNode","_normalizeClass","class","_normalizeStyle","style","swatch","rgba","background","onClick","_createVNode","undefined"],"sources":["../../../src/components/VColorPicker/VColorPickerSwatches.tsx"],"sourcesContent":["// Styles\nimport './VColorPickerSwatches.sass'\n\n// Components\nimport { VIcon } from '@/components/VIcon'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\n\n// Utilities\nimport { toRef } from 'vue'\nimport {\n  convertToUnit,\n  deepEqual,\n  defineComponent,\n  getContrast,\n  parseColor,\n  propsFactory,\n  RGBtoCSS,\n  RGBtoHSV,\n  useRender,\n} from '@/util'\nimport colors from '@/util/colors'\n\n// Types\nimport type { DeepReadonly, PropType } from 'vue'\nimport type { Color, HSV } from '@/util'\n\nexport const makeVColorPickerSwatchesProps = propsFactory({\n  swatches: {\n    type: Array as PropType<DeepReadonly<Color[][]>>,\n    default: () => parseDefaultColors(colors),\n  },\n  disabled: Boolean,\n  readonly: Boolean,\n  color: Object as PropType<HSV | null>,\n  maxHeight: [Number, String],\n\n  ...makeComponentProps(),\n}, 'VColorPickerSwatches')\n\nfunction parseDefaultColors (colors: Record<string, Record<string, string>>) {\n  return Object.keys(colors).map(key => {\n    const color = colors[key]\n    return color.base ? [\n      color.base,\n      color.darken4,\n      color.darken3,\n      color.darken2,\n      color.darken1,\n      color.lighten1,\n      color.lighten2,\n      color.lighten3,\n      color.lighten4,\n      color.lighten5,\n    ] : [\n      color.black,\n      color.white,\n      color.transparent,\n    ]\n  })\n}\n\nexport const VColorPickerSwatches = defineComponent({\n  name: 'VColorPickerSwatches',\n\n  props: makeVColorPickerSwatchesProps(),\n\n  emits: {\n    'update:color': (color: HSV) => true,\n  },\n\n  setup (props, { emit }) {\n    const isInteractive = toRef(() => !props.disabled && !props.readonly)\n\n    function onSwatchClick (hsva: HSV) {\n      if (!isInteractive.value || !hsva) {\n        return\n      }\n\n      emit('update:color', hsva)\n    }\n\n    useRender(() => (\n      <div\n        class={[\n          'v-color-picker-swatches',\n          props.class,\n        ]}\n        style={[\n          { maxHeight: convertToUnit(props.maxHeight) },\n          props.style,\n        ]}\n      >\n        <div>\n          { props.swatches.map(swatch => (\n            <div class=\"v-color-picker-swatches__swatch\">\n              { swatch.map(color => {\n                const rgba = parseColor(color)\n                const hsva = RGBtoHSV(rgba)\n                const background = RGBtoCSS(rgba)\n\n                return (\n                  <div\n                    class={[\n                      'v-color-picker-swatches__color',\n                      {\n                        'v-color-picker-swatches__color--disabled': props.disabled,\n                      },\n                    ]}\n                    onClick={ () => onSwatchClick(hsva) }\n                  >\n                    <div style={{ background }}>\n                      { props.color && deepEqual(props.color, hsva)\n                        ? <VIcon size=\"x-small\" icon=\"$success\" color={ getContrast(color, '#FFFFFF') > 2 ? 'white' : 'black' } />\n                        : undefined\n                      }\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          ))}\n        </div>\n      </div>\n    ))\n\n    return {}\n  },\n})\n\nexport type VColorPickerSwatches = InstanceType<typeof VColorPickerSwatches>\n"],"mappings":"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","ignoreList":[]}