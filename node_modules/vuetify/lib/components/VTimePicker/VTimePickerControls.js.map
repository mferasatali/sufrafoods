{"version":3,"file":"VTimePickerControls.js","names":["VTimePickerField","VBtn","useLocale","useProxiedModel","computed","nextTick","ref","watch","makeTimeValidationProps","useTimeValidation","convert12to24","convert24to12","extractInteger","pad","clamp","genericComponent","propsFactory","useRender","makeVTimePickerControlsProps","ampm","Boolean","color","String","disabled","inputHints","hour","Number","minute","second","period","readonly","useSeconds","value","viewMode","VTimePickerControls","name","props","emits","data","v","setup","_ref","emit","t","isAllowedHour","isAllowedMinute","isAllowedSecond","findNextAllowed","currentHour","currentMinute","isHourValid","isMinuteValid","isSecondValid","transformHours","in","isNaN","val","out","undefined","transformMinutesOrSeconds","onHourFieldKeydown","e","includes","key","preventDefault","stopPropagation","isAm","current","next","togglePeriod","onMinuteFieldKeydown","onSecondFieldKeydown","createInputInterceptor","valueTransformOut","compare","apply","inputElement","target","existingTxt","selectionStart","selectionEnd","potentialNewInputVal","slice","length","trim","startsWith","substring","setSelectionRange","maxValue","potentialNewNumber","setPeriod","hourInputRef","minuteInputRef","secondInputRef","_","old","blur","hourInputFilter","minuteInputFilter","secondInputFilter","_createElementVNode","_normalizeClass","_createVNode","onFocus","_createTextVNode","_Fragment","onClick"],"sources":["../../../src/components/VTimePicker/VTimePickerControls.tsx"],"sourcesContent":["// Styles\nimport './VTimePickerControls.sass'\n\n// Components\nimport { VTimePickerField } from './VTimePickerField'\nimport { VBtn } from '@/components/VBtn'\n\n// Composables\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { makeTimeValidationProps, useTimeValidation } from './useTimeValidation'\nimport { convert12to24, convert24to12, extractInteger, pad } from './util'\nimport { clamp, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType, Ref } from 'vue'\nimport type { Period, VTimePickerViewMode } from './shared'\n\nexport const makeVTimePickerControlsProps = propsFactory({\n  ampm: Boolean,\n  color: String,\n  disabled: Boolean,\n  inputHints: Boolean,\n  hour: [Number, String] as PropType<number | string | null>,\n  minute: [Number, String] as PropType<number | string | null>,\n  second: [Number, String] as PropType<number | string | null>,\n  period: String as PropType<Period>,\n  readonly: Boolean,\n  useSeconds: Boolean,\n  value: Number,\n  viewMode: String as PropType<VTimePickerViewMode>,\n  ...makeTimeValidationProps(),\n}, 'VTimePickerControls')\n\nexport const VTimePickerControls = genericComponent()({\n  name: 'VTimePickerControls',\n\n  props: makeVTimePickerControlsProps(),\n\n  emits: {\n    'update:period': (data: Period) => true,\n    'update:viewMode': (data: VTimePickerViewMode) => true,\n    'update:hour': (v: number) => true,\n    'update:minute': (v: number) => true,\n    'update:second': (v: number) => true,\n  },\n\n  setup (props, { emit }) {\n    const { t } = useLocale()\n\n    const {\n      isAllowedHour,\n      isAllowedMinute,\n      isAllowedSecond,\n      findNextAllowed,\n    } = useTimeValidation(props)\n\n    const currentHour = computed(() =>\n      props.hour !== null\n        ? props.ampm\n          ? convert12to24(Number(props.hour), props.period ?? 'am')\n          : Number(props.hour)\n        : null\n    )\n    const currentMinute = computed(() => props.minute !== null ? Number(props.minute) : null)\n\n    const isHourValid = computed(() => {\n      if (props.hour === null) return true\n      return isAllowedHour.value?.(Number(currentHour.value)) ?? true\n    })\n    const isMinuteValid = computed(() => {\n      if (props.minute === null) return true\n      return isAllowedMinute.value?.(currentHour.value, Number(props.minute)) ?? true\n    })\n    const isSecondValid = computed(() => {\n      if (props.second === null) return true\n      return isAllowedSecond.value?.(currentHour.value, currentMinute.value, Number(props.second)) ?? true\n    })\n\n    const transformHours = {\n      in: (v?: number | string | null) => {\n        if (v == null || isNaN(Number(v))) return null\n        const val = Number(v)\n        return props.ampm\n          ? pad(convert24to12(val))\n          : pad(val)\n      },\n      out: (v: number | string | null) => {\n        if (isNaN(Number(v)) || v == null || v === '') return null\n        const val = typeof v === 'string' ? extractInteger(v) : Number(v)\n        if (val === null) return null\n        return props.ampm\n          ? convert12to24(val, props.period ?? 'am')\n          : clamp(val, 0, 23)\n      },\n    }\n\n    const hour: Ref<string | number | null> = useProxiedModel(props, 'hour', undefined, transformHours.in, transformHours.out)\n\n    const transformMinutesOrSeconds = {\n      in: (v?: number | string | null) => v != null && !isNaN(Number(v)) ? pad(`${v}`) : null,\n      out: (v: number | string | null) => {\n        if (isNaN(Number(v)) || v == null || v === '') return null\n        const val = typeof v === 'string' ? extractInteger(v) : Number(v)\n        return val !== null\n          ? clamp(val, 0, 59)\n          : null\n      },\n    }\n\n    const minute: Ref<string | number | null> = useProxiedModel(\n      props,\n      'minute',\n      undefined,\n      transformMinutesOrSeconds.in,\n      transformMinutesOrSeconds.out,\n    )\n\n    const second: Ref<string | number | null> = useProxiedModel(\n      props,\n      'second',\n      undefined,\n      transformMinutesOrSeconds.in,\n      transformMinutesOrSeconds.out,\n    )\n\n    function onHourFieldKeydown (e: KeyboardEvent) {\n      if (!['ArrowUp', 'ArrowDown'].includes(e.key)) return\n      e.preventDefault()\n      e.stopPropagation()\n\n      const isAm = props.period === 'am'\n      const current = props.ampm\n        ? convert12to24(Number(hour.value ?? 0), isAm ? 'am' : 'pm')\n        : Number(hour.value ?? 0)\n\n      const next = findNextAllowed('hour', current, e.key === 'ArrowUp')\n      const togglePeriod = (isAm && next >= 12) || (!isAm && next < 12)\n\n      if (props.ampm && togglePeriod) {\n        emit('update:period', props.period === 'am' ? 'pm' : 'am')\n        nextTick(() => hour.value = pad(next))\n      } else {\n        hour.value = pad(next)\n      }\n    }\n\n    function onMinuteFieldKeydown (e: KeyboardEvent) {\n      if (!['ArrowUp', 'ArrowDown'].includes(e.key)) return\n      e.preventDefault()\n      e.stopPropagation()\n\n      const current = Number(minute.value ?? 0)\n      const next = findNextAllowed('minute', current, e.key === 'ArrowUp', currentHour.value)\n      minute.value = pad(next)\n    }\n\n    function onSecondFieldKeydown (e: KeyboardEvent) {\n      if (!['ArrowUp', 'ArrowDown'].includes(e.key)) return\n      e.preventDefault()\n      e.stopPropagation()\n\n      const current = Number(second.value ?? 0)\n      const next = findNextAllowed('second', current, e.key === 'ArrowUp', currentHour.value, currentMinute.value)\n      second.value = pad(next)\n    }\n\n    function createInputInterceptor (\n      valueTransformOut: (v: string) => number | null,\n      compare: (v: number | null) => boolean,\n      apply: (v: string) => void,\n    ) {\n      return (e: InputEvent) => {\n        if (!e.data) return\n        const inputElement = e.target as HTMLInputElement\n        const { value: existingTxt, selectionStart, selectionEnd } = inputElement ?? {}\n\n        if (extractInteger(e.data) === null) {\n          e.preventDefault()\n          return\n        }\n\n        const potentialNewInputVal =\n          existingTxt\n            ? existingTxt.slice(0, selectionStart as number | undefined) + e.data + existingTxt.slice(selectionEnd as number | undefined)\n            : e.data\n\n        if (potentialNewInputVal.length > 2) {\n          if (selectionStart === selectionEnd && selectionEnd === 0 && e.data.trim().startsWith('0')) {\n            e.preventDefault()\n            inputElement!.value = potentialNewInputVal.trim().substring(0, 2)\n            apply(inputElement!.value)\n            if (e.data.trim().length === 1) {\n              inputElement!.setSelectionRange(1, 1)\n            }\n            return\n          }\n          if (selectionStart === selectionEnd && selectionEnd === 1 && existingTxt.startsWith('0')) {\n            e.preventDefault()\n            inputElement!.value = potentialNewInputVal.trim().substring(0, 2)\n            apply(inputElement!.value)\n            return\n          }\n\n          const maxValue = props.viewMode === 'hour' ? (props.ampm ? 12 : 23) : 59\n          const value = extractInteger(potentialNewInputVal)!\n          if (value > maxValue) {\n            e.preventDefault()\n            inputElement!.value = pad(String(extractInteger(e.data)).substring(0, 2))\n            apply(inputElement!.value)\n            return\n          }\n        }\n\n        const potentialNewNumber = valueTransformOut(potentialNewInputVal)\n        if (compare(potentialNewNumber)) {\n          // ignore input when results in the same number\n          // prevents typing more digits\n          e.preventDefault()\n        }\n      }\n    }\n\n    function setPeriod (val: Period) {\n      emit('update:period', val)\n      const next = findNextAllowed('hour', val === 'am' ? 23 : 11, true)\n      nextTick(() => hour.value = pad(next))\n    }\n\n    const hourInputRef = ref<VTimePickerField>()\n    const minuteInputRef = ref<VTimePickerField>()\n    const secondInputRef = ref<VTimePickerField>()\n\n    watch(() => props.viewMode, (_, old) => {\n      switch (old) {\n        case 'hour': hourInputRef.value!.blur(); break\n        case 'minute': minuteInputRef.value!.blur(); break\n        case 'second': secondInputRef.value!.blur(); break\n      }\n    })\n\n    const hourInputFilter = createInputInterceptor(\n      transformHours.out,\n      (v: number | null) => transformHours.in(v) === hour.value,\n      (v: string) => hour.value = v,\n    )\n\n    const minuteInputFilter = createInputInterceptor(\n      transformMinutesOrSeconds.out,\n      (v: number | null) => transformMinutesOrSeconds.in(v) === minute.value,\n      (v: string) => minute.value = v,\n    )\n\n    const secondInputFilter = createInputInterceptor(\n      transformMinutesOrSeconds.out,\n      (v: number | null) => transformMinutesOrSeconds.in(v) === second.value,\n      (v: string) => second.value = v,\n    )\n\n    useRender(() => {\n      return (\n        <div class=\"v-time-picker-controls\">\n          <div\n            class={{\n              'v-time-picker-controls__time': true,\n              'v-time-picker-controls__time--with-ampm': props.ampm,\n              'v-time-picker-controls__time--with-seconds': props.useSeconds,\n            }}\n          >\n            <VTimePickerField\n              ref={ hourInputRef }\n              active={ props.viewMode === 'hour' }\n              color={ props.color }\n              disabled={ props.disabled }\n              label={ t('$vuetify.timePicker.hour') }\n              showHint={ props.inputHints }\n              error={ isHourValid.value ? undefined : t('$vuetify.timePicker.notAllowed') }\n              modelValue={ hour.value }\n              onUpdate:modelValue={ v => hour.value = v }\n              onKeydown={ onHourFieldKeydown }\n              onBeforeinput={ hourInputFilter }\n              onFocus={ () => emit('update:viewMode', 'hour') }\n            />\n\n            <span class=\"v-time-picker-controls__time__separator\">:</span>\n\n            <VTimePickerField\n              ref={ minuteInputRef }\n              active={ props.viewMode === 'minute' }\n              color={ props.color }\n              disabled={ props.disabled }\n              label={ t('$vuetify.timePicker.minute') }\n              showHint={ props.inputHints }\n              error={ isMinuteValid.value ? undefined : t('$vuetify.timePicker.notAllowed') }\n              modelValue={ minute.value }\n              onUpdate:modelValue={ v => minute.value = v }\n              onKeydown={ onMinuteFieldKeydown }\n              onBeforeinput={ minuteInputFilter }\n              onFocus={ () => emit('update:viewMode', 'minute') }\n            />\n\n            { props.useSeconds && (\n              <span key=\"secondsDivider\" class=\"v-time-picker-controls__time__separator\">:</span>\n            )}\n\n            { props.useSeconds && (\n              <>\n                <VTimePickerField\n                  key=\"secondsVal\"\n                  ref={ secondInputRef }\n                  active={ props.viewMode === 'second' }\n                  color={ props.color }\n                  disabled={ props.disabled }\n                  label={ t('$vuetify.timePicker.second') }\n                  showHint={ props.inputHints }\n                  error={ isSecondValid.value ? undefined : t('$vuetify.timePicker.notAllowed') }\n                  modelValue={ second.value }\n                  onUpdate:modelValue={ v => second.value = v }\n                  onKeydown={ onSecondFieldKeydown }\n                  onBeforeinput={ secondInputFilter }\n                  onFocus={ () => emit('update:viewMode', 'second') }\n                />\n              </>\n            )}\n\n            { props.ampm && (\n              <div class=\"v-time-picker-controls__ampm\">\n                <VBtn\n                  active={ props.period === 'am' }\n                  color={ props.period === 'am' ? props.color : undefined }\n                  class={{\n                    'v-time-picker-controls__ampm__am': true,\n                    'v-time-picker-controls__ampm__btn': true,\n                    'v-time-picker-controls__ampm__btn__active': props.period === 'am',\n                  }}\n                  disabled={ props.disabled }\n                  text={ t('$vuetify.timePicker.am') }\n                  variant={ props.disabled && props.period === 'am' ? 'elevated' : 'tonal' }\n                  onClick={ () => props.period !== 'am' ? setPeriod('am') : null }\n                />\n\n                <VBtn\n                  active={ props.period === 'pm' }\n                  color={ props.period === 'pm' ? props.color : undefined }\n                  class={{\n                    'v-time-picker-controls__ampm__pm': true,\n                    'v-time-picker-controls__ampm__btn': true,\n                    'v-time-picker-controls__ampm__btn__active': props.period === 'pm',\n                  }}\n                  disabled={ props.disabled }\n                  text={ t('$vuetify.timePicker.pm') }\n                  variant={ props.disabled && props.period === 'pm' ? 'elevated' : 'tonal' }\n                  onClick={ () => props.period !== 'pm' ? setPeriod('pm') : null }\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VTimePickerControls = InstanceType<typeof VTimePickerControls>\n"],"mappings":"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","ignoreList":[]}